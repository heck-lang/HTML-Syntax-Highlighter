<html>
	<head>
		<link rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/paraiso-dark.min.css">
		<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
		<script src="heck-highlight.js"></script>
		<style>
			#input {
				width:600px;
				height:200px;
			}

			#output {
				width: 600px;
				height: 500px;
			}

			#goButton {
				width:40px;
				height:20px;
				background-color:green;
				border:1px solid black;
				color:white;
			}

			.scroll-container {
				display: inline-block;
				overflow: scroll;
				width: 100%;
				max-width: 600px;
				max-height: 500px;
			}
		</style>
	</head>
	<body>

		<p>Upload a file for syntax highlighting:</p>

		<input type="file" id="fileUpload">

		<p>...Or paste code into this textarea:</p>

		<textarea id="input"></textarea>
		<br>
		<button id="goButton">Go!</button>

		<p>Output:</p>

		<div class="scroll-container">
			<pre><code class="language-heck" id="preview"></code></pre>
		</div>

		<p>HTML Code:</p>

		<textarea id="output"></textarea>

		<script>

			document.getElementById("fileUpload").onchange = function(e) {
				let fileReader = new FileReader();

				fileReader.onload = function(e) {
					setOutput(e.target.result);
				};

				fileReader.readAsText(e.target.files[0]);
			}

			document.getElementById("goButton").onclick = function() {
				setOutput(document.getElementById("input").value);
			}

			let preview = document.getElementById("preview");
			let output = document.getElementById("output");

			function setOutput(code) {
				preview.innerHTML = code;
				hljs.highlightBlock(preview);
				output.value = preview.innerHTML;
			}
		</script>

	</body>
</html>
